{"version":3,"sources":["scripts/main.js"],"names":["element","thead","document","querySelector","tbody","form","createElement","makeNumber","num","slice","split","join","selectRow","event","rows","map","elem","classList","remove","target","parentNode","add","sortTable","index","cellIndex","list","reverse","sort","x","y","cells","innerText","localeCompare","append","createForm","arrCities","button","arrNames","item","label","input","textContent","name","toLowerCase","required","options","city","select","insertAdjacentHTML","type","body","pushNotification","title","description","container","h2","p","setTimeout","validateForm","age","value","length","salary","addNewEmployee","employee","position","office","toLocaleString","submitForm","preventDefault","newForm","reset","saveValue","td","defaultValue","handleCellEditing","style","width","window","getComputedStyle","focus","addEventListener","e","code"],"mappings":";AAAA,aAgLA,SAAA,EAAA,GAAA,OAAA,EAAA,IAAA,EAAA,IAAA,EAAA,IAAA,IAAA,SAAA,IAAA,MAAA,IAAA,UAAA,wIAAA,SAAA,EAAA,EAAA,GAAA,GAAA,EAAA,CAAA,GAAA,iBAAA,EAAA,OAAA,EAAA,EAAA,GAAA,IAAA,EAAA,OAAA,UAAA,SAAA,KAAA,GAAA,MAAA,GAAA,GAAA,MAAA,WAAA,GAAA,EAAA,cAAA,EAAA,EAAA,YAAA,MAAA,QAAA,GAAA,QAAA,EAAA,MAAA,KAAA,GAAA,cAAA,GAAA,2CAAA,KAAA,GAAA,EAAA,EAAA,QAAA,GAAA,SAAA,EAAA,GAAA,GAAA,oBAAA,QAAA,OAAA,YAAA,OAAA,GAAA,OAAA,MAAA,KAAA,GAAA,SAAA,EAAA,GAAA,GAAA,MAAA,QAAA,GAAA,OAAA,EAAA,GAAA,SAAA,EAAA,EAAA,IAAA,MAAA,GAAA,EAAA,EAAA,UAAA,EAAA,EAAA,QAAA,IAAA,IAAA,EAAA,EAAA,EAAA,IAAA,MAAA,GAAA,EAAA,EAAA,IAAA,EAAA,GAAA,EAAA,GAAA,OAAA,EA9KA,IAaIA,EAbEC,EAAQC,SAASC,cAAc,SAC/BC,EAAQF,SAASC,cAAc,SAC/BE,EAAOH,SAASI,cAAc,QAEpC,SAASC,EAAWC,GACV,OAACA,GAAQA,GAAOA,EAAIC,MAAM,GAAGC,MAAM,KAAKC,KAAK,IAGvD,SAASC,EAAUC,GACbT,EAAAA,EAAMU,MAAMC,IAAI,SAAAC,GAAQA,OAAAA,EAAKC,UAAUC,OAAO,YAClDL,EAAMM,OAAOC,WAAWH,UAAUI,IAAI,UAKxC,SAASC,EAAUT,GACXU,IAAAA,EAAQV,EAAMM,OAAOK,UACrBC,EAAWrB,EAAAA,EAAMU,MAEnBd,IAAYa,EAAMM,OACpBM,EAAKC,WAEL1B,EAAUa,EAAMM,OAEhBM,EAAKE,KAAK,SAACC,EAAGC,GACR,OAACtB,EAAWqB,EAAEE,MAAMP,GAAOQ,WAIxBxB,EAAWqB,EAAEE,MAAMP,GAAOQ,WAC/BxB,EAAWsB,EAAEC,MAAMP,GAAOQ,WAJnBH,EAAEE,MAAMP,GAAOQ,UAAUC,cAAcH,EAAEC,MAAMP,GAAOQ,cAOnE3B,EAAM6B,OAAN7B,MAAAA,EAAgBqB,EAAAA,IAGlB,SAASS,IACDC,IAAAA,EAAY,CAAC,QAAS,YAAa,SAAU,WACjD,YAAa,iBAETC,EAASlC,SAASI,cAAc,UAEtCD,EAAKY,UAAUI,IAAI,qBAEAgB,IAAAA,IAAAA,EAAAA,EAAAA,EALF,CAAC,OAAQ,WAAY,SAAU,MAAO,UAK1B,EAAA,EAAA,OAAA,IAAA,CAAlBC,IAAAA,EAAN,EAAA,GACGC,EAAQrC,SAASI,cAAc,SAC/BkC,EAAQtC,SAASI,cAAc,SAQjCgC,GANJC,EAAME,YAAiBH,GAAAA,OAAAA,EAAvB,KACAE,EAAME,KAAUJ,GAAAA,OAAAA,EAAKK,eACrBH,EAAMI,UAAW,EACjBL,EAAMN,OAAOO,GACbnC,EAAK4B,OAAOM,GAEC,WAATD,EAAmB,CACfO,IAAAA,EAAUV,EAAUpB,IAAI,SAAA+B,GAAmBA,MAAAA,WAAAA,OAAAA,EAAf,eAC5BC,EAAS7C,SAASI,cAAc,UAEtCyC,EAAOL,KAAOJ,EAAKK,cACnBI,EAAOC,mBAAmB,aAAcH,EAAQlC,KAAK,KACrD6B,EAAMtB,SACNqB,EAAMN,OAAOc,GAGF,QAATT,GAA2B,WAATA,IACpBE,EAAMS,KAAO,UAGjBb,EAAOK,YAAc,gBACrBL,EAAOa,KAAO,SACd5C,EAAK4B,OAAOG,GACZlC,SAASgD,KAAKjB,OAAO5B,GAIvB,SAAS8C,EAAiBC,EAAOC,EAAaJ,GACtCK,IAAAA,EAAYpD,SAASI,cAAc,OACnCiD,EAAKrD,SAASI,cAAc,MAC5BkD,EAAItD,SAASI,cAAc,KAEjCgD,EAAUrC,UAAUI,IAAI,eAAgB4B,GACxCM,EAAGtC,UAAUI,IAAI,SACjBkC,EAAGxB,UAAYqB,EACfI,EAAEzB,UAAYsB,EACdC,EAAUrB,OAAOsB,EAAIC,GACrBtD,SAASgD,KAAKjB,OAAOqB,GAErBG,WAAW,WAAMH,OAAAA,EAAUpC,UAAU,KAGvC,SAASwC,IACC,QAAA,GACArD,KAAAA,EAAKsD,IAAIC,MAAQ,GAGd,OAFPT,EAAiB,SAAuC,4BAAA,UAEjD,EACH9C,KAAAA,EAAKsD,IAAIC,MAAQ,GAGd,OAFPT,EAAiB,SAA0C,+BAAA,UAEpD,EACH9C,KAAAA,EAAKqC,KAAKkB,MAAMC,OAAS,EAGtB,OAFPV,EAAiB,SAA+C,oCAAA,UAEzD,EACH,KAAuB,IAAtB9C,EAAKyD,OAAOF,MAGV,OAFPT,EAAiB,SAAU,yBAA0B,UAE9C,EACT,QAGS,OAFPA,EAAiB,WAAY,2BAA4B,YAElD,GAIb,SAASY,IACDC,IAAAA,EAAW9D,SAASI,cAAc,MAExC0D,EAAShB,mBAAmB,aACpB3C,aAAAA,OAAAA,EAAKqC,KAAKkB,MACVvD,mBAAAA,OAAAA,EAAK4D,SAASL,MACdvD,mBAAAA,OAAAA,EAAK6D,OAAON,MACZvD,mBAAAA,OAAAA,EAAKsD,IAAIC,MACR,oBAAA,SAAEvD,EAAKyD,OAAOF,OAAOO,eAAe,MAL7C,cAOA/D,EAAM6B,OAAO+B,GAGf,SAASI,EAAWvD,GAClBA,EAAMwD,iBAEAC,IAAAA,EAAUzD,EAAMM,OAEjBuC,EAAaY,KAIlBP,EAAeO,GACfA,EAAQC,SAGV,SAASC,EAAUC,EAAIjC,EAAOkC,GACvBlC,EAAMoB,MAKXa,EAAGhC,YAAcD,EAAMoB,MAJrBa,EAAGhC,YAAciC,EAOrB,SAASC,EAAkB9D,GACnB4D,IAAAA,EAAK5D,EAAMM,OACXuD,EAAeD,EAAGhC,YAClBD,EAAQtC,SAASI,cAAc,SAErCkC,EAAMvB,UAAY,aAClBuB,EAAMoB,MAAQc,EACdlC,EAAMoC,MAAMC,MAAQC,OAAOC,iBAAiBlE,EAAMM,QAAQ0D,MAC1DJ,EAAGhC,YAAc,GACjBgC,EAAGxC,OAAOO,GACVA,EAAMwC,QAENxC,EAAMyC,iBAAiB,OAAQ,WAC7BT,OAAAA,EAAUC,EAAIjC,EAAOkC,KAEvBlC,EAAMyC,iBAAiB,UAAW,SAACC,GAClB,UAAXA,EAAEC,MACJX,EAAUC,EAAIjC,EAAOkC,KA9F3BxC,IAkGA9B,EAAM6E,iBAAiB,QAASrE,GAChCX,EAAMgF,iBAAiB,QAAS3D,GAChCjB,EAAK4E,iBAAiB,SAAUb,GAChChE,EAAM6E,iBAAiB,WAAYN","file":"main.a9585d01.js","sourceRoot":"../src","sourcesContent":["'use strict';\n\nconst thead = document.querySelector('thead');\nconst tbody = document.querySelector('tbody');\nconst form = document.createElement('form');\n\nfunction makeNumber(num) {\n  return (+num) ? +num : +num.slice(1).split(',').join('');\n};\n\nfunction selectRow(event) {\n  [...tbody.rows].map(elem => elem.classList.remove('active'));\n  event.target.parentNode.classList.add('active');\n}\n\nlet element;\n\nfunction sortTable(event) {\n  const index = event.target.cellIndex;\n  const list = [...tbody.rows];\n\n  if (element === event.target) {\n    list.reverse();\n  } else {\n    element = event.target;\n\n    list.sort((x, y) => {\n      if (!makeNumber(x.cells[index].innerText)) {\n        return x.cells[index].innerText.localeCompare(y.cells[index].innerText);\n      }\n\n      return makeNumber(x.cells[index].innerText)\n      - makeNumber(y.cells[index].innerText);\n    });\n  }\n  tbody.append(...list);\n}\n\nfunction createForm() {\n  const arrCities = ['Tokyo', 'Singapore', 'London', 'New York',\n    'Edinburgh', 'San Francisco'];\n  const arrNames = ['Name', 'Position', 'Office', 'Age', 'Salary'];\n  const button = document.createElement('button');\n\n  form.classList.add('new-employee-form');\n\n  for (const item of arrNames) {\n    const label = document.createElement('label');\n    const input = document.createElement('input');\n\n    label.textContent = `${item}:`;\n    input.name = `${item.toLowerCase()}`;\n    input.required = true;\n    label.append(input);\n    form.append(label);\n\n    if (item === 'Office') {\n      const options = arrCities.map(city => `<option>${city}</option>`);\n      const select = document.createElement('select');\n\n      select.name = item.toLowerCase();\n      select.insertAdjacentHTML('afterbegin', options.join(''));\n      input.remove();\n      label.append(select);\n    }\n\n    if (item === 'Age' || item === 'Salary') {\n      input.type = 'number';\n    }\n  }\n  button.textContent = 'Save to table';\n  button.type = 'submit';\n  form.append(button);\n  document.body.append(form);\n}\ncreateForm();\n\nfunction pushNotification(title, description, type) {\n  const container = document.createElement('div');\n  const h2 = document.createElement('h2');\n  const p = document.createElement('p');\n\n  container.classList.add('notification', type);\n  h2.classList.add('title');\n  h2.innerText = title;\n  p.innerText = description;\n  container.append(h2, p);\n  document.body.append(container);\n\n  setTimeout(() => container.remove(), 3000);\n};\n\nfunction validateForm() {\n  switch (true) {\n    case (form.age.value < 18):\n      pushNotification('Error!', `Age can't be less then 18`, 'error');\n\n      return false;\n    case (form.age.value > 90):\n      pushNotification('Error!', `Age can't be greater then 90`, 'error');\n\n      return false;\n    case (form.name.value.length < 4):\n      pushNotification('Error!', `Name can't be less than 4 letters`, 'error');\n\n      return false;\n    case (+form.salary.value === 0):\n      pushNotification('Error!', 'Incorrect salary value', 'error');\n\n      return false;\n    default:\n      pushNotification('Success!', 'A new employee was added', 'success');\n\n      return true;\n  };\n}\n\nfunction addNewEmployee() {\n  const employee = document.createElement('tr');\n\n  employee.insertAdjacentHTML('afterbegin', `\n    <td>${form.name.value}</td>\n    <td>${form.position.value}</td>\n    <td>${form.office.value}</td>\n    <td>${form.age.value}</td>\n    <td>$${(+form.salary.value).toLocaleString('en')}</td>\n  `);\n  tbody.append(employee);\n}\n\nfunction submitForm(event) {\n  event.preventDefault();\n\n  const newForm = event.target;\n\n  if (!validateForm(newForm)) {\n    return;\n  }\n\n  addNewEmployee(newForm);\n  newForm.reset();\n}\n\nfunction saveValue(td, input, defaultValue) {\n  if (!input.value) {\n    td.textContent = defaultValue;\n\n    return;\n  }\n  td.textContent = input.value;\n}\n\nfunction handleCellEditing(event) {\n  const td = event.target;\n  const defaultValue = td.textContent;\n  const input = document.createElement('input');\n\n  input.classList = 'cell-input';\n  input.value = defaultValue;\n  input.style.width = window.getComputedStyle(event.target).width;\n  td.textContent = '';\n  td.append(input);\n  input.focus();\n\n  input.addEventListener('blur', () =>\n    saveValue(td, input, defaultValue));\n\n  input.addEventListener('keydown', (e) => {\n    if (e.code === 'Enter') {\n      saveValue(td, input, defaultValue);\n    }\n  });\n}\ntbody.addEventListener('click', selectRow);\nthead.addEventListener('click', sortTable);\nform.addEventListener('submit', submitForm);\ntbody.addEventListener('dblclick', handleCellEditing);\n"]}